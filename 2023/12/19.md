## 取り組んだ課題
### 自動テスト
- RSpecによるRailsテスト入門
  - RSpecによるRailsテスト入門 読了
## わかったこと
- Railsにはサンプルデータを生成する手段として **フィクスチャ** と呼ばれる機能が提供されている
    - フィクスチャはYAML形式のファイル
    - フィクスチャは脆くて壊れやすいという性質もある
- FactoryBotの使い方
    - `FactoryBot.build` を使うとテストオブジェクトをメモリ内に保存する
    - `FactoryBot.create` を使うとテスト用データベースにオブジェクトを保存する
- 重複を減らすアプローチ
    - ファクトリを継承することで変更したい属性のみを記述することができる
    - トレイとを使ってデータを構築することで重複を減らせる
- コントローラテストの書き方
    - JSON形式レスポンスでのテスト
    - コントローラーのテストは単なる機能テストとして有効活用できる時に使うのが良い
- 総合テスト(システムテスト)の書き方
    - システムスペックでは1つのexampleで複数のエクスペクテーションを書くのは問題ない
    - 必要なときにのみJavaScriptを有効にするべき
- フューチャースペックとシステムスペックの違い
- リクエストスペックでのAPIテスト
- `let` を使うことで遅延読み込みすることができる
- カスタムマッチャの作成法
    - カスタムマッチャは管理するコードが増えることになるので読みやすさに対しその価値があるのかを検討する必要がある
- 'gem shoulda-matchers` の効果的な使用法
- **モック** は本物のオブジェクトのふりをするオブジェクトでテストのために使用される
    - モックはデータベースにアクセスしないのでテストにかかる時間は短くなる
- **スタブ** はオブジェクトメソッドをオーバーライドして事前に決められた値を返す
    - 呼び出されるとテスト用に本物の結果を返す **ダミーメソッド**
- モック化に関する原則として「**自分で管理していないコードをモック化しない**」がある
- テストに対しタグを使うことで特定のテストのみを実行するということが可能
- 何かの理由でテストを残したいと考えてはいるが恒常的に実行する必要がないのであれば `skip` を使用する
    - コメントアウトするよりもスキップした場合、そのことが表示されるため忘れにくくなるため
- 特定のgemを使用することでテストの実行を並列化しスピードを上げることもできるが、怪しいテストの習慣を隠してしまうことがある点に注意
- ActiveStorageやMailer等のテスト方法
- テスト駆動開発の流れ
    - テスト開発の信条は「**テストを前進させる必要最低限のコードを書くこと**」
## 次やること
### 自動テスト
- RSpecによるRailsテスト入門
  - 読んだ感想ブログを書く
## 感じたこと
- リファクタリングをする際にテストを意識することで考え方の助けになるということに「おお！」となった
## 学習時間
Today:4.5h Total:689h